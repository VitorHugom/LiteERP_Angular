
<div class="container__content">
  <div *ngIf="carregandoDadosBarras || carregandoDadosLinhas || carregandoDadosBarrasReceber || carregandoDadosLinhasReceber" class="loading-container">
    <p>Carregando dados dos gráficos...</p>
  </div>

  <div *ngIf="erroBarras || erroLinhas || erroBarrasReceber || erroLinhasReceber" class="error-container">
    <p *ngIf="erroBarras">{{ erroBarras }}</p>
    <p *ngIf="erroLinhas">{{ erroLinhas }}</p>
    <p *ngIf="erroBarrasReceber">{{ erroBarrasReceber }}</p>
    <p *ngIf="erroLinhasReceber">{{ erroLinhasReceber }}</p>
    <button (click)="recarregarDados()" class="retry-button">Tentar novamente</button>
  </div>

  <div class="graficos-container">
    <div class="grafico-section">
      <app-grafico-barras-contas-pagar
        [dados]="dadosGraficoBarras"
        titulo="Valores de Contas a Pagar"
        (onFiltroClick)="abrirModalFiltroBarras()">
      </app-grafico-barras-contas-pagar>
    </div>

    <div class="grafico-section">
      <app-grafico-linhas-contas-pagar
        [dados]="dadosGraficoLinhas"
        titulo="Quantidade de Contas a Pagar"
        (onFiltroClick)="abrirModalFiltroLinhas()">
      </app-grafico-linhas-contas-pagar>
    </div>

    <div class="grafico-section">
      <app-grafico-barras-contas-receber
        [dados]="dadosGraficoBarrasReceber"
        titulo="Valores de Contas a Receber"
        (onFiltroClick)="abrirModalFiltroBarrasReceber()">
      </app-grafico-barras-contas-receber>
    </div>

    <div class="grafico-section">
      <app-grafico-linhas-contas-receber
        [dados]="dadosGraficoLinhasReceber"
        titulo="Quantidade de Contas a Receber"
        (onFiltroClick)="abrirModalFiltroLinhasReceber()">
      </app-grafico-linhas-contas-receber>
    </div>


    <div class="content__card">
      <h3>Outras Funcionalidades</h3>
      <p>Acesse o menu lateral para gerenciar contas a pagar, contas a receber, relatórios e outras funcionalidades do sistema.</p>
    </div>
  </div>

  <!-- Modal de Filtro de Datas -->
  <app-modal-filtro-datas
    [isVisible]="modalFiltroVisivel"
    [dataInicial]="dataInicialAtual"
    [dataFinal]="dataFinalAtual"
    [titulo]="tituloModalAtual"
    [tipoGrafico]="tipoGraficoAtual"
    (onConfirmar)="aplicarFiltro($event)"
    (onCancelar)="cancelarFiltro()"
    (onFechar)="fecharModalFiltro()">
  </app-modal-filtro-datas>
</div>


<div class="container__content">
  <div *ngIf="carregandoDadosBarras || carregandoDadosLinhas" class="loading-container">
    <p>Carregando dados dos gráficos...</p>
  </div>

  <div *ngIf="erroBarras || erroLinhas" class="error-container">
    <p *ngIf="erroBarras">{{ erroBarras }}</p>
    <p *ngIf="erroLinhas">{{ erroLinhas }}</p>
    <button (click)="recarregarDados()" class="retry-button">Tentar novamente</button>
  </div>

  <div class="graficos-container">
    <div class="grafico-section">
      <app-grafico-barras-contas-pagar
        [dados]="dadosGraficoBarras"
        titulo="Valores de Contas a Pagar"
        (onFiltroClick)="abrirModalFiltroBarras()">
      </app-grafico-barras-contas-pagar>
    </div>

    <div class="grafico-section">
      <app-grafico-linhas-contas-pagar
        [dados]="dadosGraficoLinhas"
        titulo="Quantidade de Contas a Pagar"
        (onFiltroClick)="abrirModalFiltroLinhas()">
      </app-grafico-linhas-contas-pagar>
    </div>

    <div class="content__card">
      <h3>Resumo Financeiro</h3>
      <p *ngIf="dadosGraficoBarras.length > 0 || dadosGraficoLinhas.length > 0">
        Gráfico de Barras: {{ dadosGraficoBarras.length }} datas<br>
        Gráfico de Linhas: {{ dadosGraficoLinhas.length }} datas
      </p>
      <p *ngIf="dadosGraficoBarras.length === 0 && dadosGraficoLinhas.length === 0">
        Nenhuma conta a pagar encontrada nos períodos selecionados.
      </p>
    </div>

    <div class="content__card">
      <h3>Outras Funcionalidades</h3>
      <p>Acesse o menu lateral para gerenciar contas a pagar, relatórios e outras funcionalidades do sistema.</p>
    </div>
  </div>

  <!-- Modal de Filtro de Datas -->
  <app-modal-filtro-datas
    [isVisible]="modalFiltroVisivel"
    [dataInicial]="dataInicialAtual"
    [dataFinal]="dataFinalAtual"
    [titulo]="tituloModalAtual"
    (onConfirmar)="aplicarFiltro($event)"
    (onCancelar)="cancelarFiltro()"
    (onFechar)="fecharModalFiltro()">
  </app-modal-filtro-datas>
</div>
